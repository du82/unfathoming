<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A beginner&#39;s guide to PGP</title>
    <meta name="description" content="A blog about the life experiences, thoughts, and ideas of a computer scientist with a strange life.">
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Unfathoming">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="Unfathoming">
    <meta name="generator" content="Eleventy v2.0.1">
    <style>/**
 * okaidia theme for JavaScript, CSS and HTML
 * Loosely based on Monokai textmate theme by http://www.monokai.nl/
 * @author ocodia
 */

code[class*="language-"],
pre[class*="language-"] {
	color: #f8f8f2;
	background: none;
	text-shadow: 0 1px rgba(0, 0, 0, 0.3);
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	font-size: 1em;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
	border-radius: 0.3em;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #272822;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: #8292a2;
}

.token.punctuation {
	color: #f8f8f2;
}

.token.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.constant,
.token.symbol,
.token.deleted {
	color: #f92672;
}

.token.boolean,
.token.number {
	color: #ae81ff;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #a6e22e;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string,
.token.variable {
	color: #f8f8f2;
}

.token.atrule,
.token.attr-value,
.token.function,
.token.class-name {
	color: #e6db74;
}

.token.keyword {
	color: #66d9ef;
}

.token.regex,
.token.important {
	color: #fd971f;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}
/*
 * New diff- syntax
 */

pre[class*="language-diff-"] {
	--eleventy-code-padding: 1.25em;
	padding-left: var(--eleventy-code-padding);
	padding-right: var(--eleventy-code-padding);
}
.token.deleted {
	background-color: hsl(0, 51%, 37%);
	color: inherit;
}
.token.inserted {
	background-color: hsl(126, 31%, 39%);
	color: inherit;
}

/* Make the + and - characters unselectable for copy/paste */
.token.prefix.unchanged,
.token.prefix.inserted,
.token.prefix.deleted {
	-webkit-user-select: none;
	user-select: none;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	padding-top: 2px;
	padding-bottom: 2px;
}
.token.prefix.inserted,
.token.prefix.deleted {
	width: var(--eleventy-code-padding);
	background-color: rgba(0,0,0,.2);
}

/* Optional: full-width background color */
.token.inserted:not(.prefix),
.token.deleted:not(.prefix) {
	display: block;
	margin-left: calc(-1 * var(--eleventy-code-padding));
	margin-right: calc(-1 * var(--eleventy-code-padding));
	text-decoration: none; /* override del, ins, mark defaults */
	color: inherit; /* override del, ins, mark defaults */
}
* { box-sizing: border-box; }
body, html {
    margin: 0;
    padding: 0;
    font-family: "Noto Sans", sans-serif;
    line-height: 1.6;
}
header {
    background-color: #f0f0f0;
    padding: 0;
    text-align: left;
    border-top: 1px solid #ccc;
    border-left: 1px solid #ccc;
}
header nav {
    display: flex;
    margin-left: 240px;
    margin-top: 10px;
    border-bottom: 1px solid #ccc;
}
header nav a {
    color: #333;
    text-decoration: none;
    padding: 5px 20px;
    background-color: #e0e0e0;
    border: 1px solid #ccc;
    border-bottom: none;
    border-radius: 0;
    margin-right: 5px;
    position: relative;
    top: 1px;
}
header nav a[aria-current="page"] {
    background-color: #fff;
    border-bottom: 1px solid #fff;
    z-index: 2;
}
.container {
    display: flex;
    min-height: calc(100vh - 41px); /* Subtract header height */
}
.content {
    flex-grow: 1;
    padding: 20px;
    max-width: 43em;
    position: relative;
    border-left: 1px solid #ccc;
}
.content p {
    text-align: justify;
}
.post-meta {
    
}
h1, h2 {
    color: #333;
border-bottom: 1px solid #ccc
}
.sidebar {
    width: 241px;
    min-width: 241px;
    background-color: #f0f0f0;
    padding: 20px;
    border-left: 1px solid #ccc;
}
.sidebar ul {
    list-style-type: none;
    padding: 0;
}
.sidebar li {
    margin-bottom: 10px;
}
.sidebar a {
    text-decoration: none;
    color: #333;
}
.sidenote {
    font-size: 0.9em;
    color: #666;
    position: absolute;
    right: -375px;
    width: 350px;
    box-sizing: border-box;
}
sup {
    color: #0066cc;
    font-weight: bold;
    cursor: help;
}
</style></style>
    <script data-goatcounter="https://unfathoming.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</head>
<body>
    <header>
        <nav>
            <a href="/">Home</a>
            <a href="/archive/2024/hello-world/">Intro</a>
            <a href="/archive/">Archive</a>
            <a href="/archive/2024/principles/">Principles</a>
            <a href="/archive/2024/about-me/">Me</a>
        </nav>
    </header>
    <div class="container">

        <aside class="sidebar">
            <h1>Recent Posts</h1>
            <ul>
                    
                        <li><a href="/archive/2024/500-topics/">500 Topics worth exploring</a></li>
                    
                    
                        <li><a href="/archive/2024/telegram-analysis/">Telegram&#39;s Design: An In-Depth Analysis</a></li>
                    
                    
                        <li><a href="/archive/2024/principles/">Principles for a free being</a></li>
                    
                    
                        <li><a href="/archive/2024/matrix-data/">Some interesting Matrix data</a></li>
                    
                    
                        <li><a href="/archive/2024/chinese-keyboards/">The Chinese keyboard problem</a></li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
            </ul>
            <h1>Tags</h1>
            <ul>
                
                
                    <li><a href="/tags/ai/" class="post-tag">ai</a></li>
                
                
                    <li><a href="/tags/analysis/" class="post-tag">analysis</a></li>
                
                
                    <li><a href="/tags/beginnings/" class="post-tag">beginnings</a></li>
                
                
                    <li><a href="/tags/china/" class="post-tag">china</a></li>
                
                
                    <li><a href="/tags/design/" class="post-tag">design</a></li>
                
                
                    <li><a href="/tags/development/" class="post-tag">development</a></li>
                
                
                    <li><a href="/tags/evergreen/" class="post-tag">evergreen</a></li>
                
                
                    <li><a href="/tags/guides/" class="post-tag">guides</a></li>
                
                
                    <li><a href="/tags/learning/" class="post-tag">learning</a></li>
                
                
                    <li><a href="/tags/musing/" class="post-tag">musing</a></li>
                
                
                    <li><a href="/tags/philosophy/" class="post-tag">philosophy</a></li>
                
                
                    <li><a href="/tags/privacy/" class="post-tag">privacy</a></li>
                
                
                    <li><a href="/tags/projects/" class="post-tag">projects</a></li>
                
                
                    <li><a href="/tags/rant/" class="post-tag">rant</a></li>
                
                
                    <li><a href="/tags/security/" class="post-tag">security</a></li>
                
                
                    <li><a href="/tags/software/" class="post-tag">software</a></li>
                
                
                    <li><a href="/tags/sovereignty/" class="post-tag">sovereignty</a></li>
                
                
                    <li><a href="/tags/surveillance/" class="post-tag">surveillance</a></li>
                
            </ul>
        </aside>
        <main class="content">
            
<h2 id="a-beginner39s-guide-to-pgp">A beginner&#39;s guide to PGP</h2>

<ul class="post-metadata">
	<li><time datetime="2024-04-23">23 April 2024</time></li>
  <li><a href="https://archive.ph/http://unfathom.ing/archive/2024/pgp-beginners-guide/" target="_blank">View Archived</a><li>
	<li><a href="/tags/security/" class="post-tag">security</a>, </li>
	<li><a href="/tags/guides/" class="post-tag">guides</a></li>
</ul>

<p>Here's my guide on how to set up and use PGP via Gnu Privacy Guard (GPG) to create keys, sign messages, add other's public keys, and verify the integrity of their messages. I couldn't find any simple instructions on how to use it, so I decided to write my own that is easier to understand.</p>
<p>I'll assume that you're using Debian Linux or a derivative, since this blog post is meant for beginners, and Ubuntu is typically what people start out with.</p>
<h2 id="install-gnu-privacy-guard">Install GNU Privacy Guard <a class="header-anchor" href="#install-gnu-privacy-guard">#</a></h2>
<p>This command installs <code>gnupg2</code> which is the Debian package for GNU Privacy Guard.</p>
<pre class="language-shell" tabindex="0"><code class="language-shell"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> gnupg2 <span class="token parameter variable">-y</span></code></pre>
<h3 id="generate-a-new-key">Generate a new key <a class="header-anchor" href="#generate-a-new-key">#</a></h3>
<p>Now we need to create a key.</p>
<pre class="language-shell" tabindex="0"><code class="language-shell">gpg --full-gen-key</code></pre>
<p>This will give you a list of options. Here's my recommendation:</p>
<ul>
<li>Press <code>Enter</code> to accept the default (<code>RSA</code>).</li>
<li>Press <code>Enter</code> to accept the default keysize of <code>3072</code>.</li>
<li>The expiration date is up to you, but I recommend a year. Type <code>1y</code> and press <code>Enter</code>.</li>
</ul>
<p>Now, it wil ask you for a real name. I recommend using a pseudonym, but your real name will also work.</p>
<p>It will also ask you for an email address. I recommend leaving it blank, but a valid email works.</p>
<p>Feel free to leave the comment field blank, or add one if you'd like, up to you.</p>
<p>Type the letter <code>O</code> and it will give you a prompt to create a password.</p>
<p><strong>Type a strong password</strong> since this will be the thing that secures your key. Don't reuse passwords from other accounts. Then press continue or <code>Enter</code>.</p>
<p>Congrats! You now have a PGP key!</p>
<h3 id="extracting-your-public-key"><a href="#publickey"></a>Extracting your public key <a class="header-anchor" href="#extracting-your-public-key">#</a></h3>
<p>You should now have a page that looks something like this:</p>
<pre class="language-shell" tabindex="0"><code class="language-shell">public and secret key created and signed.

pub   rsa3072 <span class="token number">2024</span>-04-24 <span class="token punctuation">[</span>SC<span class="token punctuation">]</span> <span class="token punctuation">[</span>expires: <span class="token number">2025</span>-04-24<span class="token punctuation">]</span>
      AFE3B9A0E5C1A3C6A5360CAA7635119DF78CE4BF</code></pre>
<p>Chances are, you want to be able to share your public key with someone else. To do this, you need to generate a public key file.</p>
<p>Type the following, but replace <code>MYPUBLICKEY</code> with whatever string you got under the &quot;pub&quot; section (which is known as a key fingerprint).</p>
<pre class="language-shell" tabindex="0"><code class="language-shell">gpg <span class="token parameter variable">--armor</span> <span class="token parameter variable">--export</span> MYPUBLICKEY <span class="token operator">></span> pubkey.asc</code></pre>
<p>This is now saved to the file called <code>pubkey.asc</code>. To view the contents of the file, type <code>cat pubkey.asc</code>. You can share this with friends or put it on your website.</p>
<h3 id="signing-data"><a href="#signing"></a>Signing data <a class="header-anchor" href="#signing-data">#</a></h3>
<p>First we need some data to sign, so create a new text file (you can use <code>nano</code> command to do this), enter something, then save it.</p>
<p>The following command will let you sign a message and attach its signature inside of the file. This is great for text, but not great for pictures or data that relies on the formatting of the data within. Make sure to replace <code>FILENAME</code> with the actual name of your file or you'll just get junk.</p>
<pre class="language-shell" tabindex="0"><code class="language-shell">gpg <span class="token parameter variable">--clearsign</span> FILENAME</code></pre>
<p>To generate the signature and store it separately, you can type the following:</p>
<pre class="language-shell" tabindex="0"><code class="language-shell">gpg --detach-sig FILENAME</code></pre>
<h3 id="importing-anothers-public-key">Importing another's public key <a class="header-anchor" href="#importing-another-s-public-key">#</a></h3>
<p>You probably want to be able to verify another person's message to know if it's a successful match for their key. This is useful because it proves the authenticity and integrity of the data, basically that the person who signed it is the person who holds the private key that you trust.</p>
<p>To do this, type the following, but replace <code>THEIRKEY.asc</code> with the actual filename.</p>
<pre class="language-shell" tabindex="0"><code class="language-shell">gpg <span class="token parameter variable">--import</span> THEIRKEY.asc</code></pre>
<h2 id="verifying-data">Verifying data <a class="header-anchor" href="#verifying-data">#</a></h2>
<p>The main purpose of PGP is to be able to verify the integrity of data, so lets do that.</p>
<p>To verify someones data, type the following, but make sure to replace <code>SIGFILE</code> with the signature file and <code>FILENAME</code> with the name of the file to verify.</p>
<pre class="language-shell" tabindex="0"><code class="language-shell">gpg <span class="token parameter variable">--verify</span> SIGFILE FILENAME</code></pre>
<p>If the result ends with &quot;Good signature from&quot; followed by their name, you know that the data hasn't been tampered with and it is their own.</p>

<ul class="links-nextprev"><li>Previous: <a href="/archive/2024/my-programming-journey/">My programming journey</a></li><li>Next: <a href="/archive/2024/daily-driving-qubes-os/">My attempt to daily drive Qubes OS</a></li>
</ul>

        </main>
    </div>
</body>
<!-- This page `/archive/2024/pgp-beginners-guide/` was built on 2024-08-24T18:31:32.733Z -->
</html>