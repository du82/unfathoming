<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>A beginner&#39;s guide to PGP</title>
		<meta name="description" content="A blog about the life experiences, thoughts, and ideas of a computer scientist with a strange life.">
		<link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Unfathoming">
		<link rel="alternate" href="/feed/feed.json" type="application/json" title="Unfathoming">
		<meta name="generator" content="Eleventy v2.0.1">
		<style>/**
 * okaidia theme for JavaScript, CSS and HTML
 * Loosely based on Monokai textmate theme by http://www.monokai.nl/
 * @author ocodia
 */

code[class*="language-"],
pre[class*="language-"] {
	color: #f8f8f2;
	background: none;
	text-shadow: 0 1px rgba(0, 0, 0, 0.3);
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	font-size: 1em;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
	border-radius: 0.3em;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #272822;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: #8292a2;
}

.token.punctuation {
	color: #f8f8f2;
}

.token.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.constant,
.token.symbol,
.token.deleted {
	color: #f92672;
}

.token.boolean,
.token.number {
	color: #ae81ff;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #a6e22e;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string,
.token.variable {
	color: #f8f8f2;
}

.token.atrule,
.token.attr-value,
.token.function,
.token.class-name {
	color: #e6db74;
}

.token.keyword {
	color: #66d9ef;
}

.token.regex,
.token.important {
	color: #fd971f;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}
/*
 * New diff- syntax
 */

pre[class*="language-diff-"] {
	--eleventy-code-padding: 1.25em;
	padding-left: var(--eleventy-code-padding);
	padding-right: var(--eleventy-code-padding);
}
.token.deleted {
	background-color: hsl(0, 51%, 37%);
	color: inherit;
}
.token.inserted {
	background-color: hsl(126, 31%, 39%);
	color: inherit;
}

/* Make the + and - characters unselectable for copy/paste */
.token.prefix.unchanged,
.token.prefix.inserted,
.token.prefix.deleted {
	-webkit-user-select: none;
	user-select: none;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	padding-top: 2px;
	padding-bottom: 2px;
}
.token.prefix.inserted,
.token.prefix.deleted {
	width: var(--eleventy-code-padding);
	background-color: rgba(0,0,0,.2);
}

/* Optional: full-width background color */
.token.inserted:not(.prefix),
.token.deleted:not(.prefix) {
	display: block;
	margin-left: calc(-1 * var(--eleventy-code-padding));
	margin-right: calc(-1 * var(--eleventy-code-padding));
	text-decoration: none; /* override del, ins, mark defaults */
	color: inherit; /* override del, ins, mark defaults */
}
* { box-sizing: border-box; }
/* Defaults */
:root {
	--font-family: -apple-system, system-ui, sans-serif;
	--font-family-monospace: Consolas, Menlo, Monaco, Andale Mono WT, Andale Mono, Lucida Console, Lucida Sans Typewriter, DejaVu Sans Mono, Bitstream Vera Sans Mono, Liberation Mono, Nimbus Mono L, Courier New, Courier, monospace;
}

/* Theme colors */
:root {
	--quote-background: #f9f9f9;
	--quote-accent: #cccccc;
			
	--color-gray-20: #e0e0e0;
	--color-gray-50: #C0C0C0;
	--color-gray-90: #333;

	--background-color: #fff;

	--text-color: var(--color-gray-90);
	--text-color-link: #082840;
	--text-color-link-active: #5f2b48;
	--text-color-link-visited: #17050F;

	--syntax-tab-size: 2;

	--callout-info-border: #3498db;
	--callout-info-background: #e8f4fd;
	
	--callout-warning-border: #f39c12;
	--callout-warning-background: #fef5e7;
	
	--callout-danger-border: #e74c3c;
	--callout-danger-background: #fdedeb;
	
	--callout-success-border: #2ecc71;
	--callout-success-background: #e9f7ef;
	
	--callout-note-border: #9b59b6;
	--callout-note-background: #f4ecf7;
	
	--callout-tip-border: #1abc9c;
	--callout-tip-background: #e8f8f5;
	
	--callout-question-border: #f1c40f;
	--callout-question-background: #fef9e7;
	
	--callout-quote-border: #4b6a88;
	--callout-quote-background: #e7f0fe;
}

@media (prefers-color-scheme: dark) {
	:root {
		--quote-background: #1b1e1f;
		--quote-accent: #c8c3bc;
		
		--color-gray-20: #393d40;
		--color-gray-50: #C0C0C0;
		--color-gray-90: #c8c3bc;

		/* --text-color is assigned to --color-gray-_ above */
		--text-color-link: #d1cdc7;
		--text-color-link-active: #d199b8;
		--text-color-link-visited: #dfdcd8;

		--background-color: #181a1b;

		--callout-info-border: #1a6394;
	  --callout-info-background: #1f2223;
	  
	  --callout-warning-border: #f39c12;
	  --callout-warning-background: #fef5e7;
	  
	  --callout-danger-border: #e74c3c;
	  --callout-danger-background: #fdedeb;
	  
	  --callout-success-border: #2ecc71;
	  --callout-success-background: #e9f7ef;
	  
	  --callout-note-border: #9b59b6;
	  --callout-note-background: #f4ecf7;
	  
	  --callout-tip-border: #1abc9c;
	  --callout-tip-background: #e8f8f5;
	  
	  --callout-question-border: #f1c40f;
	  --callout-question-background: #fef9e7;
	  
	  --callout-quote-border: #34495e;
	  --callout-quote-background: #1b1e1f;
	}
}


/* Global stylesheet */
* {
	box-sizing: border-box;
}

html,
body {
	padding: 0;
	margin: 0 auto;
	font-family: var(--font-family);
	color: var(--text-color);
	background-color: var(--background-color);
}
html {
	overflow-y: scroll;
}
body {
	max-width: 60em;
}
img {
	max-width: 100%;
	height: auto;
}
blockquote {
  background: var(--quote-background);
  border-left: 10px solid var(--quote-accent);
  margin: 1.5em 0px;
  padding: 0.5em 8px;
  quotes: "\201C""\201D""\2018""\2019";
}
blockquote:before {
  color: var(--quote-accent);
  content: open-quote;
  font-size: 4em;
  line-height: 0.1em;
  margin-right: 0.25em;
  vertical-align: -0.4em;
}
blockquote p {
  display: inline;
}

/* Callout cards */
.callout {
  background: var(--quote-background);
  border-left: 10px solid;
  margin: 1.5em 0px;
  padding: 0.5em 15px;
  position: relative;
}

.callout p {
  margin: 0;
}

/* Info callout */
.callout.info {
  border-color: var(--callout-info-border);
  background-color: var(--callout-info-background);
}

/* Warning callout */
.callout.warning {
  border-color: var(--callout-warning-border);
  background-color: var(--callout-warning-background);
}

/* Danger callout */
.callout.danger {
  border-color: var(--callout-danger-border);
  background-color: var(--callout-danger-background);
}

/* Success callout */
.callout.success {
  border-color: var(--callout-success-border);
  background-color: var(--callout-success-background);
}

/* Note callout */
.callout.note {
  border-color: var(--callout-note-border);
  background-color: var(--callout-note-background);
}

/* Tip callout */
.callout.tip {
  border-color: var(--callout-tip-border);
  background-color: var(--callout-tip-background);
}

/* Question callout */
.callout.question {
  border-color: var(--callout-question-border);
  background-color: var(--callout-question-background);
}

/* Quote callout */
.callout.quote {
  border-color: var(--callout-quote-border);
  background-color: var(--callout-quote-background);
}

/* Sidebar styles */
.content-wrapper {
		margin-top: 1.5em;
    display: flex;
    gap: 2em;
}

.main-content {
	margin-left: 1em;
	margin-top: 0;
	margin-right: 1em;
}

.main-content :first-child {
	margin-top: 0;
	flex: 2;
}

.sidebar {
    flex: 1;
	  height: fit-content;
    background-color: var(--quote-background);
    padding: 1em;
    border-radius: 5px;
    border: 1px solid var(--color-gray-20);
}

.sidebar h3 {
    margin-top: 0;
}

.sidebar ul {
    padding-left: 1em;
}

.tag-cloud {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5em;
}

.tag-cloud a {
    background-color: var(--background-color);
    padding: 0.2em 0.5em;
    border-radius: 3px;
    font-size: 0.9em;
    text-decoration: none;
}

.tag-cloud a:first-child {
    width: 0;
}

/* Sidenotes */
.sidenote {
  float: right;
  clear: right;
  margin-right: -50%;
	margin-bottom: 1em;
  width: 40%;
  font-size: 0.8em;
  line-height: 1.3;
  vertical-align: baseline;
  position: relative;
	border-top: 3px double var(--color-gray-20);
}

.sidenote-anchor {
  content: counter(sidenote-counter);
  vertical-align: super;
  font-size: 0.7em;
}

/* Mobile view */
@media (max-width: 768px) {
    .content-wrapper {
				margin-top: 1.5em;
        flex-direction: column;
    }
    
    .sidebar {
        display: none;
    }

		.sidenote {
				display: none;
		}
}

/* https://www.a11yproject.com/posts/how-to-hide-content/ */
.visually-hidden {
	clip: rect(0 0 0 0);
	clip-path: inset(50%);
	height: 1px;
	overflow: hidden;
	position: absolute;
	white-space: nowrap;
	width: 1px;
}

p:last-child {
	margin-bottom: 0;
}
p {
	line-height: 1.5;
}

li {
	line-height: 1.5;
}

a[href] {
	color: var(--text-color-link);
}
a[href]:visited {
	color: var(--text-color-link-visited);
}
a[href]:hover,
a[href]:active {
	color: var(--text-color-link-active);
}

main {
	padding: 0;
}

main :first-child {
	flex: 2;
}

header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px dashed var(--color-gray-20);
    padding: 1em;
}

header nav {
    margin-left: auto; /* This pushes the nav to the right */
}

header:after {
	content: "";
	display: table;
	clear: both;
}

.links-nextprev {
	list-style: none;
	border-top: 1px dashed var(--color-gray-20);
	padding: 1em 0;
}

table {
	margin: 1em 0;
}
table td,
table th {
	padding-right: 1em;
}

pre,
code {
	font-family: var(--font-family-monospace);
}
pre:not([class*="language-"]) {
	margin: .5em 0;
	line-height: 1.375; /* 22px /16 */
	-moz-tab-size: var(--syntax-tab-size);
	-o-tab-size: var(--syntax-tab-size);
	tab-size: var(--syntax-tab-size);
	-webkit-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
	direction: ltr;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
}
code {
	word-break: break-all;
}

/* Header */
header {
	display: flex;
	flex-wrap: wrap;
	align-items: center;
	padding: 1em;
}
.home-link {
	font-size: 1em; /* 16px /16 */
	font-weight: 700;
	margin-right: 2em;
}
.home-link:link:not(:hover) {
	text-decoration: none;
}

/* Nav */
.nav {
	display: flex;
	padding: 0;
	margin: 0;
	list-style: none;
}
.nav-item {
	display: inline-block;
	margin-right: 1em;
}
.nav-item a[href]:not(:hover) {
	text-decoration: none;
}
.nav a[href][aria-current="page"] {
	text-decoration: underline;
}

footer {
	padding: 1em;
}

/* Posts list */
.postlist {
	list-style: none;
	padding: 0;
	padding-left: 1.5rem;
}
.postlist-item {
	display: flex;
	flex-wrap: wrap;
	align-items: baseline;
	counter-increment: start-from -1;
	margin-bottom: 1em;
}
.postlist-item:before {
	display: inline-block;
	pointer-events: none;
	content: "" counter(start-from, decimal-leading-zero) ". ";
	line-height: 100%;
	text-align: right;
	margin-left: -1.5rem;
}
.postlist-date,
.postlist-item:before {
	font-size: 0.8125em; /* 13px /16 */
	color: var(--color-gray-90);
}
.postlist-date {
	word-spacing: -0.5px;
}
.postlist-link {
	font-size: 1.1875em; /* 19px /16 */
	font-weight: 700;
	flex-basis: calc(100% - 1.5rem);
	padding-left: .25em;
	padding-right: .5em;
	text-underline-position: from-font;
	text-underline-offset: 0;
	text-decoration-thickness: 1px;
}
.postlist-item-active .postlist-link {
	font-weight: bold;
}

/* Tags */
.post-tag {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	text-transform: capitalize;
	font-style: italic;
}
.postlist-item > .post-tag {
	align-self: center;
}

/* Tags list */
.post-metadata {
	display: inline-flex;
	flex-wrap: wrap;
	gap: .5em;
	list-style: none;
	padding: 0;
	margin: 0;
}
.post-metadata time {
	margin-right: 1em;
}

/* Direct Links / Markdown Headers */
.header-anchor {
	text-decoration: none;
	font-style: normal;
	font-size: 1em;
	margin-left: .1em;
}
a[href].header-anchor,
a[href].header-anchor:visited {
	color: transparent;
}
a[href].header-anchor:focus,
a[href].header-anchor:hover {
	text-decoration: underline;
}
a[href].header-anchor:focus,
:hover > a[href].header-anchor {
	color: #aaa;
}

h2 + .header-anchor {
	font-size: 1.5em;
}</style>
		<script defer data-domain="unfathom.ing" src="https://plausible.io/js/script.js"></script>
	</head>
	<body>
		<a href="#skip" class="visually-hidden">Skip to main content</a>
		<header>
			<a href="/" class="home-link">Unfathoming</a>
			<nav>
				<h2 class="visually-hidden">Top level navigation menu</h2>
				<ul class="nav">
					<li class="nav-item"><a href="/">Home</a></li>
					<li class="nav-item"><a href="/archive/">Archive</a></li>
					<li class="nav-item"><a href="/about/">About Me</a></li>
					<li class="nav-item"><a href="/donate/">Donate</a></li>
				</ul>
			</nav>
		</header>
		<main id="skip">
			<div class="content-wrapper">
				<div class="main-content">
					
<h2 class="title">A beginner&#39;s guide to PGP</h2>

<ul class="post-metadata">
	<li><time datetime="2024-04-23">23 April 2024</time></li>
  <li><a href="https://archive.ph/http://unfathom.ing/archive/2024/pgp-beginners-guide/" target="_blank">View Archived</a><li>
	<li><a href="/tags/security/" class="post-tag">security</a>, </li>
	<li><a href="/tags/guides/" class="post-tag">guides</a></li>
</ul>

<p>Here's my guide on how to set up and use PGP via Gnu Privacy Guard (GPG) to create keys, sign messages, add other's public keys, and verify the integrity of their messages. I couldn't find any simple instructions on how to use it, so I decided to write my own that is easier to understand.</p>
<p>I'll assume that you're using Debian Linux or a derivative, since this blog post is meant for beginners, and Ubuntu is typically what people start out with.</p>
<h2 id="install-gnu-privacy-guard" tabindex="-1">Install GNU Privacy Guard <a class="header-anchor" href="#install-gnu-privacy-guard">#</a></h2>
<p>This command installs <code>gnupg2</code> which is the Debian package for GNU Privacy Guard.</p>
<pre class="language-shell" tabindex="0"><code class="language-shell"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> gnupg2 <span class="token parameter variable">-y</span></code></pre>
<h3 id="generate-a-new-key" tabindex="-1">Generate a new key <a class="header-anchor" href="#generate-a-new-key">#</a></h3>
<p>Now we need to create a key.</p>
<pre class="language-shell" tabindex="0"><code class="language-shell">gpg --full-gen-key</code></pre>
<p>This will give you a list of options. Here's my recommendation:</p>
<ul>
<li>Press <code>Enter</code> to accept the default (<code>RSA</code>).</li>
<li>Press <code>Enter</code> to accept the default keysize of <code>3072</code>.</li>
<li>The expiration date is up to you, but I recommend a year. Type <code>1y</code> and press <code>Enter</code>.</li>
</ul>
<p>Now, it wil ask you for a real name. I recommend using a pseudonym, but your real name will also work.</p>
<p>It will also ask you for an email address. I recommend leaving it blank, but a valid email works.</p>
<p>Feel free to leave the comment field blank, or add one if you'd like, up to you.</p>
<p>Type the letter <code>O</code> and it will give you a prompt to create a password.</p>
<p><strong>Type a strong password</strong> since this will be the thing that secures your key. Don't reuse passwords from other accounts. Then press continue or <code>Enter</code>.</p>
<p>Congrats! You now have a PGP key!</p>
<h3 id="extracting-your-public-key" tabindex="-1"><a href="#publickey"></a>Extracting your public key <a class="header-anchor" href="#extracting-your-public-key">#</a></h3>
<p>You should now have a page that looks something like this:</p>
<pre class="language-shell" tabindex="0"><code class="language-shell">public and secret key created and signed.

pub   rsa3072 <span class="token number">2024</span>-04-24 <span class="token punctuation">[</span>SC<span class="token punctuation">]</span> <span class="token punctuation">[</span>expires: <span class="token number">2025</span>-04-24<span class="token punctuation">]</span>
      AFE3B9A0E5C1A3C6A5360CAA7635119DF78CE4BF</code></pre>
<p>Chances are, you want to be able to share your public key with someone else. To do this, you need to generate a public key file.</p>
<p>Type the following, but replace <code>MYPUBLICKEY</code> with whatever string you got under the &quot;pub&quot; section (which is known as a key fingerprint).</p>
<pre class="language-shell" tabindex="0"><code class="language-shell">gpg <span class="token parameter variable">--armor</span> <span class="token parameter variable">--export</span> MYPUBLICKEY <span class="token operator">></span> pubkey.asc</code></pre>
<p>This is now saved to the file called <code>pubkey.asc</code>. To view the contents of the file, type <code>cat pubkey.asc</code>. You can share this with friends or put it on your website.</p>
<h3 id="signing-data" tabindex="-1"><a href="#signing"></a>Signing data <a class="header-anchor" href="#signing-data">#</a></h3>
<p>First we need some data to sign, so create a new text file (you can use <code>nano</code> command to do this), enter something, then save it.</p>
<p>The following command will let you sign a message and attach its signature inside of the file. This is great for text, but not great for pictures or data that relies on the formatting of the data within. Make sure to replace <code>FILENAME</code> with the actual name of your file or you'll just get junk.</p>
<pre class="language-shell" tabindex="0"><code class="language-shell">gpg <span class="token parameter variable">--clearsign</span> FILENAME</code></pre>
<p>To generate the signature and store it separately, you can type the following:</p>
<pre class="language-shell" tabindex="0"><code class="language-shell">gpg --detach-sig FILENAME</code></pre>
<h3 id="importing-another-s-public-key" tabindex="-1">Importing another's public key <a class="header-anchor" href="#importing-another-s-public-key">#</a></h3>
<p>You probably want to be able to verify another person's message to know if it's a successful match for their key. This is useful because it proves the authenticity and integrity of the data, basically that the person who signed it is the person who holds the private key that you trust.</p>
<p>To do this, type the following, but replace <code>THEIRKEY.asc</code> with the actual filename.</p>
<pre class="language-shell" tabindex="0"><code class="language-shell">gpg <span class="token parameter variable">--import</span> THEIRKEY.asc</code></pre>
<h2 id="verifying-data" tabindex="-1">Verifying data <a class="header-anchor" href="#verifying-data">#</a></h2>
<p>The main purpose of PGP is to be able to verify the integrity of data, so lets do that.</p>
<p>To verify someones data, type the following, but make sure to replace <code>SIGFILE</code> with the signature file and <code>FILENAME</code> with the name of the file to verify.</p>
<pre class="language-shell" tabindex="0"><code class="language-shell">gpg <span class="token parameter variable">--verify</span> SIGFILE FILENAME</code></pre>
<p>If the result ends with &quot;Good signature from&quot; followed by their name, you know that the data hasn't been tampered with and it is their own.</p>

<ul class="links-nextprev"><li>Previous: <a href="/archive/2024/my-programming-journey/">My programming journey</a></li><li>Next: <a href="/archive/2024/daily-driving-qubes-os/">My attempt to daily drive Qubes OS</a></li>
</ul>

				</div>
				<div class="sidebar">
					<h3>Recent Articles</h3>
					<ul>
							
								<li><a href="/archive/2024/operating-in-hostile-computing-environments/">Operating in hostile computing environments</a></li>
							
							
								<li><a href="/archive/2024/the-new-site-design/">The new site design</a></li>
							
							
								<li><a href="/archive/2024/chat-control-enriches-surveillance-state/">Chat Control enriches Europe&#39;s surveillance state</a></li>
							
							
								<li><a href="/archive/2024/my-college-experience/">My college experience</a></li>
							
							
								<li><a href="/archive/2024/rejecting-platform-trajectory/">Rejecting platform trajectory</a></li>
							
							
							
							
							
							
							
							
							
							
							
							
							
							
					</ul>
					<h3>Tags</h3>
					<div class="tag-cloud">
						
						
							<a href="/tags/ai/" class="post-tag">ai</a>
						
						
							<a href="/tags/beginnings/" class="post-tag">beginnings</a>
						
						
							<a href="/tags/design/" class="post-tag">design</a>
						
						
							<a href="/tags/development/" class="post-tag">development</a>
						
						
							<a href="/tags/evergreen/" class="post-tag">evergreen</a>
						
						
							<a href="/tags/guides/" class="post-tag">guides</a>
						
						
							<a href="/tags/learning/" class="post-tag">learning</a>
						
						
							<a href="/tags/musing/" class="post-tag">musing</a>
						
						
							<a href="/tags/privacy/" class="post-tag">privacy</a>
						
						
							<a href="/tags/projects/" class="post-tag">projects</a>
						
						
							<a href="/tags/rant/" class="post-tag">rant</a>
						
						
							<a href="/tags/security/" class="post-tag">security</a>
						
						
							<a href="/tags/software/" class="post-tag">software</a>
						
						
							<a href="/tags/sovereignty/" class="post-tag">sovereignty</a>
						
					</div>
				</div>
			</div>
		</main>
		<footer>
			<p>Copyright &copy; 2024 all text and images.<br>
			<i>Lore runs deep, secrets run deeper.</i></p>
		</footer>
		<!-- This page `/archive/2024/pgp-beginners-guide/` was built on 2024-06-29T20:48:50.338Z -->
	</body>
</html>
